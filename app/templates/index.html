{% extends "base.html" %}

{% block title %}{{ super() }}Begin Here{% endblock %}

{% block content %}
{{ super() }}
<div class="page-header" style="padding-left: 50px;">
    <h1>ESL Auto-Worksheet</h1>
</div>


{% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="container">
            {% for category, message in messages %}
                <p>
                
                <div class="alert alert-{{category}}" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <strong>
                        {% if category == 'info' %}
                            Information:
                        {% elif category == 'danger' %}
                            ERROR:
                        {% elif category == 'success' %}
                            Success:
                        {% else %}
                            {{category}}
                        {% endif %}
                    </strong>
                        
                    <br>{{ message }}
            {% endfor %}
                
                </div>
                </p>
        </div>
        {% endif %}
{% endwith %}

<div class="container">

    <h3>About Auto-Worksheet</h3>
    <br/>
    <p>The Auto-Worksheet program lets you enter a search term, and will gather news articles from the CNN website for you to use in your ESL class.</p>
    <p>Select an article you like and it automatically chooses several notable words and collects the definitions from Dictionary.com</p>
    <p>You will then be able to download a .docx file containing the article and vocabulary, and three automatically generated fill-in-the-blank questions.
        <br>The file will also contain three general discussion questions.</p>
    <p>Auto-Worksheet makes finding articles and producing questions easier for you.
        Once downloaded, You can either add your own questions, or use the worksheet as-is.
    </p>
    <br>
    <h4>Begin now!</h4>
    <form id="CNN-search-terms" method='POST'>
        <input name="user_search_terms">
        <input type="button" onclick="submitAndWait()" value="Search!">
    </form>
    <script>
        function submitAndWait() {
            document.querySelector("#CNN-search-terms").submit();

            const overlay = document.querySelector("#loading-overlay");
            
            overlay.style.display = "block";
            overlay.style.visibility = 'visible';
        
        }
    </script>
</div>
{% endblock %}